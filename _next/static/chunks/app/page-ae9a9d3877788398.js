(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3644:(e,t,s)=>{"use strict";s.d(t,{default:()=>N});var a=s(5155),r=s(2115),l=s(4624),n=s(2085),i=s(2596),o=s(9688);function c(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,o.QP)((0,i.$)(t))}let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:i=!1,...o}=e,h=i?l.DX:"button";return(0,a.jsx)(h,{className:c(d({variant:r,size:n,className:s})),ref:t,...o})});h.displayName="Button";let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});m.displayName="Card",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("flex flex-col space-y-1.5 p-6",s),...r})}).displayName="CardHeader",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("text-2xl font-semibold leading-none tracking-tight",s),...r})}).displayName="CardTitle",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription";let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("p-6 pt-0",s),...r})});x.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:c("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter";var u=s(4355),g=s(9869),p=s(4416),f=s(6767),b=s(8979),v=s(4738),w=s(7550),j=s(2138);function N(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(0),[n,i]=(0,r.useState)([]),[o,c]=(0,r.useState)(0),[d,N]=(0,r.useState)(null),[y,C]=(0,r.useState)(!1),[k,S]=(0,r.useState)(!1),[A,D]=(0,r.useState)(!1),[E,P]=(0,r.useState)(null),[z,F]=(0,r.useState)(!1),[R,M]=(0,r.useState)(null),[I,H]=(0,r.useState)(0),[T,_]=(0,r.useState)(null),[L,U]=(0,r.useState)(0),[B,O]=(0,r.useState)({top:0,bottom:0});(0,r.useRef)(null);let V=(0,r.useRef)(null),G=(0,r.useRef)(null),W=(0,r.useRef)(null),q=(0,r.useRef)(null),J=(0,r.useCallback)(()=>{let e=navigator.userAgent,t=navigator.vendor||"",s=/Safari/.test(e)&&!/Chrome/.test(e)&&/Apple/.test(t),a=/Chrome/.test(e)&&/Google Inc/.test(t);return console.log("\uD83D\uDD0D Browser Detection:",{userAgent:e,vendor:t,isRealSafari:s,isChromeAnyPlatform:a}),{isRealSafari:s,isChromeAnyPlatform:a,isSupported:!s}},[]),[Q]=(0,r.useState)(()=>J()),X=(0,r.useCallback)(async e=>new Promise(t=>{console.log("\uD83D\uDD0D Starting text line detection...");let s=q.current;if(!s){console.error("\uD83D\uDD0D Canvas not found"),t([]);return}let a=s.getContext("2d");if(!a){console.error("\uD83D\uDD0D Canvas context not found"),t([]);return}s.width=e.naturalWidth,s.height=e.naturalHeight,a.drawImage(e,0,0),console.log("\uD83D\uDD0D Canvas setup: ".concat(s.width,"x").concat(s.height));let r=a.getImageData(0,0,s.width,s.height).data,l=new Uint8Array(s.width*s.height);for(let e=0;e<r.length;e+=4){let t=Math.round(.299*r[e]+.587*r[e+1]+.114*r[e+2]);l[e/4]=t<128?0:255}let n=Array(s.height).fill(0);for(let e=0;e<s.height;e++)for(let t=0;t<s.width;t++)0===l[e*s.width+t]&&n[e]++;let i=[],o=!1,c=0,d=Math.max(3,.01*s.width);console.log("\uD83D\uDD0D Min text density threshold: ".concat(d));for(let e=0;e<n.length;e++){let t=n[e]>d;t&&!o?(o=!0,c=e):!t&&o&&(o=!1,i.push({start:c,end:e}))}o&&i.push({start:c,end:s.height}),console.log("\uD83D\uDD0D Raw text lines detected: ".concat(i.length));let h=[];for(let e=0;e<i.length;e++){let t=i[e];if(t.end-t.start<8)continue;let s=i[e+1];s&&s.start-t.end<15?(h.push({start:t.start,end:s.end}),e++):h.push(t)}let m=h.map((e,t)=>({revealHeight:e.end+10,description:"Step ".concat(t+1)}));console.log("\uD83D\uDD0D Final reveal steps created: ".concat(m.length)),console.log("\uD83D\uDD0D Reveal steps:",m),t(m)}),[]),Z=(0,r.useCallback)(e=>new Promise(t=>{let s,a,r,l;let n=document.createElement("canvas"),i=n.getContext("2d");n.width=720,n.height=1280,i.fillStyle="white",i.fillRect(0,0,720,1280);let o=e.width/e.height;o>.5625?(s=720,r=0,l=(1280-(a=720/o))/2):(a=1280,r=(720-(s=1280*o))/2,l=0),i.drawImage(e,r,l,s,a),console.log("\uD83C\uDFA8 Resized image: ".concat(e.width,"x").concat(e.height," → ").concat(720,"x").concat(1280)),console.log("\uD83C\uDFA8 Draw position: ".concat(r.toFixed(1),", ").concat(l.toFixed(1),", ").concat(s.toFixed(1),"x").concat(a.toFixed(1))),t(n.toDataURL("image/jpeg",.95))}),[]),$=(0,r.useCallback)(async e=>new Promise(t=>{let s=new window.Image;s.onload=async()=>{let e=await Z(s),a=new window.Image;a.onload=async()=>{t(await X(a))},a.onerror=()=>t([]),a.src=e},s.onerror=()=>t([]),s.src=e}),[X,Z]),K=(0,r.useCallback)(async e=>new Promise((t,s)=>{let a=new window.Image;a.onload=async()=>{try{let e=a.naturalWidth,r=a.naturalHeight,l=e/r;console.log("\uD83D\uDCF1 Original image: ".concat(e,"x").concat(r,", aspect ratio: ").concat(l.toFixed(2),", portrait: ").concat(r>e));let n=await Z(a),o=new window.Image;o.onload=async()=>{let e=o.naturalWidth,s=o.naturalHeight,a=e/s;console.log("\uD83D\uDCF1 Resized image: ".concat(e,"x").concat(s,", aspect ratio: ").concat(a.toFixed(2))),_({width:e,height:s,isPortrait:s>e,aspectRatio:a});let r=await X(o);if(i(r),0===r.length){console.warn("⚠️ No text lines detected in resized image");let e=[{revealHeight:Math.floor(.33*s),description:"Step 1"},{revealHeight:Math.floor(.66*s),description:"Step 2"},{revealHeight:s,description:"Step 3"}];i(e),console.log("\uD83D\uDD27 Created fallback reveal steps:",e.length)}M(null),t()},o.onerror=e=>{console.error("❌ Error loading resized image:",e),s(Error("Failed to process resized image."))},o.src=n}catch(e){console.error("❌ Error in image processing:",e),s(e)}},a.onerror=e=>{console.error("❌ Error loading original image:",e),s(Error("Failed to load image. Please try a different image."))},a.src=e}),[X,Z,s]),Y=(0,r.useCallback)(async e=>{let s=e.target.files;if(!s||0===s.length)return;let a=Array.from(s).filter(e=>e.type.startsWith("image/")?!(e.size>0xa00000)||(M('"'.concat(e.name,'" is too large (').concat(Math.round(e.size/1024/1024),"MB). Please upload images smaller than 10MB.")),!1):(M('"'.concat(e.name,'" is not a valid image file. Please upload JPG, PNG, or other image formats.')),!1));if(0===a.length)return;C(!0),M(null);let r=[];try{for(let e of a){let t=await new Promise((t,s)=>{let a=new FileReader;a.onloadend=()=>t(a.result),a.onerror=()=>s(Error("Failed to read file: ".concat(e.name))),a.readAsDataURL(e)});r.push(t)}t(r),l(0),c(0),H(0),await K(r[0]),S(!0)}catch(t){console.error("❌ Error processing files:",t);let e=t instanceof Error?t.message:"Unknown error occurred";M("Processing failed: ".concat(e,". Please try again or use a different image."))}C(!1)},[K]),ee=(0,r.useCallback)(async()=>{if(A&&d)d.getTracks().forEach(e=>e.stop()),N(null),D(!1),P(null),console.log("\uD83D\uDCF7 Camera turned off");else try{console.log("\uD83D\uDCF7 Starting camera...");let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:480}},audio:!1});N(e),D(!0),P(null),console.log("\uD83D\uDCF7 Camera started successfully"),setTimeout(()=>{V.current&&(V.current.srcObject=e,V.current.play().catch(console.error))},100)}catch(e){console.error("\uD83D\uDCF7 Camera failed:",e),P("Camera access denied. Please allow camera permission."),D(!1)}},[A,d]);(0,r.useEffect)(()=>{(async()=>{console.log("\uD83D\uDE80 Initializing Math Fast APP Creator..."),await new Promise(e=>setTimeout(e,1500));try{if(!document.createElement("canvas").getContext("2d"))throw Error("Canvas not supported");console.log("✅ Canvas initialized")}catch(e){console.error("❌ Canvas initialization failed:",e)}try{if(!window.FileReader)throw Error("FileReader not supported");console.log("✅ File reading initialized")}catch(e){console.error("❌ File reading initialization failed:",e)}console.log("\uD83C\uDF89 App initialization complete!"),F(!0)})()},[]),(0,r.useEffect)(()=>{A&&d&&V.current&&(console.log("\uD83C\uDFA5 Attaching stream to visible video element"),V.current.srcObject=d,V.current.play().catch(console.error))},[A,d]);let et=(0,r.useCallback)(()=>{d&&(d.getTracks().forEach(e=>e.stop()),N(null))},[d]);(0,r.useCallback)(()=>{S(!0)},[]),(0,r.useCallback)(()=>{S(!1)},[]);let es=(0,r.useCallback)(async()=>{if(o<n.length)c(e=>e+1);else if(s<e.length-1){let t=s+1;l(t),c(0),C(!0);try{await K(e[t]),c(1)}catch(e){console.error("Error processing next image:",e),alert("Error processing next image. Please try again.")}C(!1)}},[o,n.length,s,e,K]),ea=(0,r.useCallback)(async()=>{if(o>1)c(e=>e-1);else if(s>0){let t=s-1;l(t);let a=await $(e[t]);i(a),c(a.length||1)}},[o,s,e,$]),er=(0,r.useCallback)(()=>{t([]),l(0),i([]),c(0),S(!1),D(!1),P(null),M(null),H(0),et(),_(null),W.current&&(W.current.value="")},[et]),el=(0,r.useCallback)(()=>{H(e=>e+1),M(null),e.length>0&&(C(!0),K(e[s]).then(()=>{C(!1),0===o&&S(!0)}).catch(e=>{C(!1);let t=e instanceof Error?e.message:"Unknown error occurred";M("Retry failed: ".concat(t,". Please try a different image."))}))},[e,s,K,o]),en=()=>{if(!T||0===n.length||0===o)return 0;if(o>n.length)return T.height;let e=n[o-1].revealHeight;return console.log("\uD83C\uDFAF Reveal step ".concat(o,": Height=").concat(e,"px")),e},ei=e[s]||null;return((0,r.useEffect)(()=>{let e=document.querySelector("meta[name=viewport]");if(e)e.setAttribute("content","width=device-width, initial-scale=1.0, user-scalable=no");else{let e=document.createElement("meta");e.name="viewport",e.content="width=device-width, initial-scale=1.0, user-scalable=no",document.getElementsByTagName("head")[0].appendChild(e)}return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",()=>{document.body.style.overflow="",document.documentElement.style.overflow=""}},[]),(0,r.useEffect)(()=>{let e=()=>{let e=window.innerHeight;U(e);let t=document.createElement("div");t.style.position="fixed",t.style.top="env(safe-area-inset-top)",t.style.bottom="env(safe-area-inset-bottom)",t.style.visibility="hidden",document.body.appendChild(t);let s=getComputedStyle(t),a=parseInt(s.top)||0,r=parseInt(s.bottom)||0;O({top:a,bottom:r}),document.body.removeChild(t),console.log("\uD83D\uDCF1 Viewport updated:",{vh:e,topSafe:a,bottomSafe:r})};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),(0,r.useEffect)(()=>{let e=document.createElement("style");return e.textContent="\n      :root {\n        --safe-area-inset-top: env(safe-area-inset-top, 0px);\n        --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);\n      }\n      * {\n        -webkit-overflow-scrolling: touch;\n      }\n    ",document.head.appendChild(e),()=>{document.head.contains(e)&&document.head.removeChild(e)}},[]),z)?k?(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-50 p-4",children:(0,a.jsx)(m,{className:"w-full max-w-md",children:(0,a.jsxs)(x,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-center mb-6 text-slate-900",children:"Ready to Create Explainer Video!"}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold",children:"1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-blue-900",children:"Start Android Screen Recording"}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:"Swipe down → Screen Record (or use Control Panel)"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold",children:"2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-green-900",children:"Return to This App"}),(0,a.jsx)("p",{className:"text-sm text-green-700",children:"Switch back when recording starts"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-purple-50 rounded-lg",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold",children:"3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-purple-900",children:"Start Explaining"}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Use arrows to reveal steps while talking"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(h,{onClick:()=>S(!1),className:"w-full py-3 text-lg bg-purple-600 hover:bg-purple-700 text-white",children:"I'm Ready - Let's Go!"}),(0,a.jsx)(h,{onClick:er,variant:"outline",className:"w-full py-2",children:"Cancel and Start Over"})]})]})})}):(0,a.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,a.jsx)("canvas",{ref:q,style:{display:"none"}}),0===e.length&&(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-screen p-4 overflow-hidden",children:(0,a.jsx)(m,{className:"w-full max-w-md",children:(0,a.jsxs)(x,{className:"p-6 text-center",children:[(0,a.jsxs)("div",{className:"mb-4 p-3 bg-gray-100 border rounded-lg text-xs",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"User Agent:"})," ",navigator.userAgent]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Vendor:"})," ",navigator.vendor||"undefined"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Is Safari:"})," ",(/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)).toString()]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Has Chrome:"})," ",/Chrome/.test(navigator.userAgent).toString()]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Has Safari:"})," ",/Safari/.test(navigator.userAgent).toString()]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Vendor Check:"})," ",/Apple/.test(navigator.vendor||"").toString()]})]}),!Q.isSupported&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-orange-900 mb-2",children:"Safari Not Supported"}),(0,a.jsx)("p",{className:"text-sm text-orange-800 mb-3",children:"Please use Chrome browser for the best experience with this app."}),(0,a.jsx)(h,{onClick:()=>window.open("https://chrome.google.com/webstore","_blank"),size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:"Download Chrome"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(g.A,{className:"h-8 w-8 text-white"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2 text-slate-800",children:"Math Fast APP"}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mb-4",children:"Create professional math explainer videos in minutes"}),(0,a.jsxs)("div",{className:"text-left mb-6 space-y-4",children:[(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[(0,a.jsxs)("h4",{className:"font-semibold text-red-900 mb-2 flex items-center",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Before (The Pain)"]}),(0,a.jsxs)("ul",{className:"text-xs text-red-800 space-y-1",children:[(0,a.jsx)("li",{children:"• Struggle with camera angles while writing"}),(0,a.jsx)("li",{children:"• Record wobbly videos for hours"}),(0,a.jsx)("li",{children:"• Add voice-over separately"}),(0,a.jsx)("li",{children:"• Edit and sync everything manually"}),(0,a.jsx)("li",{children:"• Takes hours to create one video"})]})]}),(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[(0,a.jsxs)("h4",{className:"font-semibold text-green-900 mb-2 flex items-center",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"After (This Tool)"]}),(0,a.jsxs)("ul",{className:"text-xs text-green-800 space-y-1",children:[(0,a.jsx)("li",{children:"• Take picture snapshots of math problems"}),(0,a.jsx)("li",{children:"• Choose images and start recording"}),(0,a.jsx)("li",{children:"• Click next/prev while explaining"}),(0,a.jsx)("li",{children:"• Stop recording - video ready!"}),(0,a.jsx)("li",{children:"• Publish online in minutes ⚡"})]})]})]})]}),R&&(0,a.jsxs)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-red-800 mb-3",children:R}),(0,a.jsxs)("div",{className:"flex gap-2 justify-center",children:[I<3&&(0,a.jsxs)(h,{onClick:el,variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-50",children:["Try Again (",3-I," left)"]}),(0,a.jsx)(h,{onClick:()=>M(null),variant:"outline",size:"sm",children:"Dismiss"})]})]}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:Y,className:"hidden",id:"image-upload",ref:W,multiple:!0}),(0,a.jsx)(h,{onClick:()=>{var e;return null===(e=W.current)||void 0===e?void 0:e.click()},disabled:y||!Q.isSupported,className:"w-full py-3 text-lg bg-purple-600 hover:bg-purple-700 text-white disabled:bg-gray-400",children:y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.A,{className:"mr-2 h-5 w-5"}),Q.isSupported?"Upload Math Images":"Switch to Chrome First"]})}),(0,a.jsxs)("div",{className:"mt-4 flex justify-center space-x-4 text-xs text-slate-500",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{children:"Portrait: Best"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-yellow-600"}),(0,a.jsx)("span",{children:"Square: Good"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(v.A,{className:"h-4 w-4 text-red-600"}),(0,a.jsx)("span",{children:"Landscape: Poor"})]})]})]})})}),ei&&(0,a.jsxs)("div",{className:"flex flex-col overflow-hidden bg-slate-50",style:{height:L||"100vh",paddingTop:"".concat(B.top,"px"),paddingBottom:"".concat(B.bottom,"px")},children:[(0,a.jsxs)("div",{className:"flex-shrink-0 py-2 px-4 text-center bg-white shadow-sm relative",style:{height:"".concat(Math.max(48,12+B.top),"px")},children:[(0,a.jsx)("h1",{className:"text-lg font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Math Fast APP"}),(0,a.jsx)(h,{onClick:er,variant:"ghost",size:"icon",className:"absolute top-1 right-2 h-8 w-8 rounded-full bg-slate-100 hover:bg-slate-200 text-slate-600 z-50",children:(0,a.jsx)(p.A,{className:"h-4 w-4"})})]}),(0,a.jsx)("div",{className:"flex items-center justify-center px-3 py-1",style:{height:"".concat(L-Math.max(48,12+B.top)-Math.max(72,20+B.bottom),"px")},children:(0,a.jsx)("div",{className:"relative w-full max-w-sm mx-auto h-full",children:(0,a.jsxs)("div",{className:"relative w-full bg-white rounded-xl overflow-hidden shadow-lg h-full",style:{maxHeight:"100%",minHeight:"".concat(Math.min(400,.5*(L||800)),"px")},children:[(0,a.jsx)("img",{src:ei,alt:"Math problem",className:"absolute inset-0 w-full h-full object-contain bg-white",ref:G,style:{transform:"translateZ(0)",backfaceVisibility:"hidden"}}),y&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white z-20",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin h-6 w-6 border-2 border-white border-t-transparent rounded-full mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm",children:"Analyzing..."})]})}),R&&!y&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-red-900/80 text-white z-20",children:(0,a.jsxs)("div",{className:"text-center p-4",children:[(0,a.jsx)("p",{className:"font-semibold mb-3 text-sm",children:"Processing Failed"}),(0,a.jsxs)("div",{className:"flex gap-2 justify-center",children:[I<3&&(0,a.jsx)(h,{onClick:el,size:"sm",className:"bg-white text-red-900 hover:bg-gray-100 text-xs",children:"Retry"}),(0,a.jsx)(h,{onClick:er,variant:"outline",size:"sm",className:"border-white text-white hover:bg-white hover:text-red-900 text-xs",children:"Start Over"})]})]})}),T&&(0,a.jsx)("div",{className:"absolute inset-0 z-10 pointer-events-none",children:(0,a.jsx)("div",{className:"absolute bg-white transition-all duration-700 ease-in-out",style:{left:0,top:"".concat(en()/T.height*100,"%"),width:"100%",height:"".concat(100-en()/T.height*100,"%")}})})]})})}),A&&d&&(0,a.jsxs)("div",{className:"absolute top-14 right-4 w-16 h-16 bg-black rounded-full overflow-hidden border-2 border-white shadow-lg z-30",children:[(0,a.jsx)("video",{ref:V,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover transform scale-x-[-1]"}),(0,a.jsx)(h,{variant:"ghost",size:"icon",onClick:ee,className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-white hover:bg-red-600 p-0",children:(0,a.jsx)(p.A,{className:"h-3 w-3"})})]}),E&&(0,a.jsx)("div",{className:"absolute top-14 right-4 w-12 h-12 bg-red-600 rounded-full flex items-center justify-center border-2 border-white shadow-lg z-30",children:(0,a.jsx)(p.A,{className:"h-4 w-4 text-white"})}),(0,a.jsx)("div",{className:"flex-shrink-0 bg-white border-t border-slate-200 py-2",style:{height:"".concat(Math.max(72,20+B.bottom),"px")},children:(0,a.jsxs)("div",{className:"flex items-center justify-center h-full px-4",children:[0===o&&n.length>0&&!y&&k&&(0,a.jsx)("div",{className:"flex items-center space-x-3",children:(0,a.jsxs)(h,{onClick:ee,variant:"outline",className:"px-4 py-2 ".concat(A?"bg-green-50 border-green-300 text-green-800":"bg-slate-50 border-slate-300"),children:[(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4"}),A?"Hide Face":"Show Face"]})}),!k&&(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(h,{onClick:ea,variant:"outline",size:"icon",children:(0,a.jsx)(w.A,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"px-2 py-1 bg-red-100 rounded text-xs",children:[o,"/",n.length]}),(0,a.jsx)(h,{onClick:es,variant:"outline",size:"icon",children:(0,a.jsx)(j.A,{className:"h-4 w-4"})}),(0,a.jsx)(h,{onClick:ee,variant:"ghost",size:"icon",children:(0,a.jsx)(u.A,{className:"h-4 w-4 ".concat(A?"text-green-600":"text-slate-600")})})]}),o>0&&(0,a.jsx)("div",{className:"absolute left-4",children:(0,a.jsx)(h,{onClick:async()=>{l(0),i(await $(e[0])),c(1)},variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full bg-slate-100 hover:bg-slate-200 text-slate-600",children:(0,a.jsx)(w.A,{className:"h-4 w-4"})})})]})})]})]}):(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-4 overflow-hidden",children:(0,a.jsx)(m,{className:"w-full max-w-md",children:(0,a.jsxs)(x,{className:"p-8 text-center",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(u.A,{className:"h-8 w-8 text-white"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Math Fast APP"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Preparing AI for content creation"})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{className:"text-sm text-slate-700",children:"Loading image processing..."})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin",style:{animationDelay:"0.3s"}}),(0,a.jsx)("span",{className:"text-sm text-slate-700",children:"Initializing text detection..."})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-green-600 border-t-transparent rounded-full animate-spin",style:{animationDelay:"0.6s"}}),(0,a.jsx)("span",{className:"text-sm text-slate-700",children:"Setting up camera support..."})]})]}),(0,a.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2 mb-4",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 h-2 rounded-full animate-pulse",style:{width:"75%"}})}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Please wait while we prepare everything for the best experience"})]})})})}},9044:(e,t,s)=>{Promise.resolve().then(s.bind(s,3644))}},e=>{var t=t=>e(e.s=t);e.O(0,[527,441,684,358],()=>t(9044)),_N_E=e.O()}]);